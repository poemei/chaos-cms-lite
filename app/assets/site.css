/* =========================================================
   ChaosCMS â€“ Universal site styles
   Path: /app/assets/site.css
   Load after any theme/Bootstrap CSS.
   ========================================================= */

/* ---------- CSS Vars (light) ---------- */
:root {
  --bg: #ffffff;
  --text: #212529;
  --muted: #6c757d;
  --border: #dee2e6;
  --shade: #f8f9fa;

  --primary: #0d6efd;
  --primary-contrast: #ffffff;

  --success: #198754;
  --warning: #ffc107;
  --danger:  #dc3545;
  --info:    #0dcaf0;

  --radius: 8px;
  --shadow: 0 1px 3px rgba(0,0,0,.08);

  --code-bg: #f8f9fa;
  --code-text: #212529;

  --container: 1100px;
  --leading: 1.6;
  --font-size: 16px;
  --line-width: 68ch; /* readable line length */
}

/* ---------- Auto Dark Mode ---------- */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f1115;
    --text: #e9ecef;
    --muted: #adb5bd;
    --border: #2b2f36;
    --shade: #161a20;

    --primary: #4da3ff;
    --primary-contrast: #0b0d12;

    --code-bg: #151922;
    --code-text: #e9ecef;
    --shadow: 0 1px 3px rgba(0,0,0,.35);
  }
}

/* ---------- Base Reset-ish ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { font-size: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 400 var(--font-size)/var(--leading) system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

/* ---------- Layout helpers ---------- */
.container { max-width: var(--container); margin: 0 auto; padding: 0 16px; }
.wrapper { min-height: 100vh; display: flex; flex-direction: column; }
main { flex: 1 0 auto; }
.site-header, .site-footer { flex: 0 0 auto; }

/* ---------- Typography ---------- */
h1, h2, h3, h4, h5, h6 { line-height: 1.25; margin: 1.5rem 0 .75rem; }
h1 { font-size: clamp(2rem, 1.2rem + 2vw, 2.5rem); }
h2 { font-size: clamp(1.5rem, 1rem + 1.5vw, 2rem); }
h3 { font-size: clamp(1.25rem, .9rem + 1vw, 1.5rem); }
p { margin: 0 0 1rem; max-width: var(--line-width); }
small, .small { font-size: .875rem; color: var(--muted); }
.lead { font-size: 1.125rem; color: var(--muted); }
hr { border: 0; border-top: 1px solid var(--border); margin: 2rem 0; }

ul, ol { padding-left: 1.25rem; margin: 0 0 1rem; }
li + li { margin-top: .25rem; }
blockquote {
  margin: 1rem 0; padding: .75rem 1rem;
  background: var(--shade); border-left: 4px solid var(--border); border-radius: var(--radius);
}

/* ---------- Links ---------- */
a { color: var(--primary); text-decoration: none; }
a:hover { text-decoration: underline; }
a.muted { color: var(--muted); }
a.button-link { text-decoration: none; }

/* ---------- Buttons ---------- */
.btn {
  display: inline-flex; align-items: center; gap: .5rem;
  padding: .5rem .9rem; border-radius: var(--radius);
  border: 1px solid var(--border); background: var(--shade); color: var(--text);
  box-shadow: var(--shadow); cursor: pointer; line-height: 1.2;
}
.btn:hover { filter: brightness(0.98); }
.btn:active { transform: translateY(1px); }
.btn-primary { background: var(--primary); color: var(--primary-contrast); border-color: transparent; }
.btn-danger { background: var(--danger); color: #fff; border-color: transparent; }
.btn-success { background: var(--success); color: #fff; border-color: transparent; }
.btn-warning { background: var(--warning); color: #000; border-color: transparent; }

/* ---------- Forms ---------- */
label { display: block; margin: .5rem 0 .25rem; }
input[type="text"], input[type="email"], input[type="password"],
input[type="number"], input[type="url"], textarea, select {
  width: 100%; padding: .6rem .7rem; border-radius: var(--radius);
  border: 1px solid var(--border); background: var(--bg); color: var(--text);
}
textarea { min-height: 140px; resize: vertical; }
input:focus, textarea:focus, select:focus { outline: 2px solid color-mix(in srgb, var(--primary) 35%, transparent); outline-offset: 1px; }

/* Password reveal icon button */
.input-group {
  position: relative; display: flex; align-items: stretch;
}
.input-group input { padding-right: 2.5rem; }
.input-append {
  position: absolute; right: .25rem; top: 50%; transform: translateY(-50%);
  border: 0; background: transparent; color: var(--muted); cursor: pointer;
  padding: .25rem .4rem; border-radius: 6px;
}
.input-append:hover { color: var(--text); }

/* ---------- Tables ---------- */
.table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
.table th, .table td { padding: .6rem .7rem; border: 1px solid var(--border); vertical-align: top; }
.table th { background: var(--shade); text-align: left; }

/* ---------- Code & Pre ---------- */
code { background: #f1f3f5; color: var(--text); padding: 2px 6px; border-radius: 4px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
pre { margin: 1rem 0; }
pre code {
  background: var(--code-bg); color: var(--code-text);
  display: block; padding: .9rem 1rem; border-radius: var(--radius);
  overflow-x: auto; box-shadow: inset 0 0 0 1px var(--border);
}

/* Copy button on code blocks (if JS adds it) */
.code-wrap { position: relative; }
.code-copy {
  position: absolute; top: .5rem; right: .5rem;
  font-size: .85rem; padding: .25rem .5rem; border-radius: 6px;
  border: 1px solid var(--border); background: rgba(255,255,255,.8);
}
@media (prefers-color-scheme: dark) {
  .code-copy { background: rgba(0,0,0,.35); color: #fff; }
}

/* ---------- Media ---------- */
img, video { max-width: 100%; height: auto; border-radius: 6px; }
figure { margin: 0 0 1rem; }
figcaption { color: var(--muted); font-size: .9rem; margin-top: .25rem; }

/* ---------- Cards & Alerts ---------- */
.card {
  border: 1px solid var(--border); border-radius: var(--radius);
  background: var(--bg); box-shadow: var(--shadow); padding: 1rem;
}
.alert {
  padding: .7rem .9rem; border-radius: var(--radius); margin: .75rem 0;
  border: 1px solid var(--border); background: var(--shade);
}
.alert-success { border-color: color-mix(in srgb, var(--success) 35%, var(--border)); background: color-mix(in srgb, var(--success) 10%, var(--shade)); }
.alert-danger  { border-color: color-mix(in srgb, var(--danger) 35%, var(--border)); background: color-mix(in srgb, var(--danger) 10%, var(--shade)); }
.alert-warning { border-color: color-mix(in srgb, var(--warning) 35%, var(--border)); background: color-mix(in srgb, var(--warning) 12%, var(--shade)); }
.alert-info    { border-color: color-mix(in srgb, var(--info) 35%, var(--border)); background: color-mix(in srgb, var(--info) 12%, var(--shade)); }

/* ---------- Simple Grid ---------- */
.row { display: grid; grid-template-columns: 1fr; gap: 1rem; }
.col { min-width: 0; }
@media (min-width: 700px)  { .row.cols-2 { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1000px) { .row.cols-3 { grid-template-columns: repeat(3, 1fr); } }

/* ---------- Nav (basic) ---------- */
.nav {
  display: flex; gap: .8rem; flex-wrap: wrap;
}
.nav a {
  padding: .35rem .6rem; border-radius: var(--radius);
}
.nav a.active { background: var(--shade); }

/* ---------- Utilities ---------- */
.hidden { display: none !important; }
.text-center { text-align: center; }
.text-right  { text-align: right; }
.m-0 { margin: 0 !important; }
.mt-1 { margin-top: .25rem !important; } .mb-1 { margin-bottom: .25rem !important; }
.mt-2 { margin-top: .5rem !important; }  .mb-2 { margin-bottom: .5rem !important; }
.mt-3 { margin-top: 1rem !important; }   .mb-3 { margin-bottom: 1rem !important; }
.mt-4 { margin-top: 1.5rem !important; } .mb-4 { margin-bottom: 1.5rem !important; }
.p-1 { padding: .25rem !important; } .p-2 { padding: .5rem !important; } .p-3 { padding: 1rem !important; }

/* ---------- A11y ---------- */
.skip-link {
  position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus {
  left: 1rem; top: 1rem; width: auto; height: auto; padding: .5rem .75rem;
  background: var(--primary); color: var(--primary-contrast); border-radius: var(--radius);
}
